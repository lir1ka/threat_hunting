---
title: "pr 07 vakhrameev"
author: "vakhrameevaleksandr@yandex.ru"
format: 
  md:
    output-file: README.md
---

## Цель работы

1.  Изучить возможности технологии Yandex DataLens для визуального анализа структурированных наборов данных
2.  Получить навыки визуализации данных для последующего анализа с помощью сервисов Yandex Cloud
3.  Получить навыки создания решений мониторинга/SIEM на базе облачных продуктов и открытых программных решений
4.  Закрепить практические навыки использования SQL для анализа данных сетевой активности в сегментированной корпоративной сети

## Исходные данные

1.  Оепрационная система Darwin Mac.lan 25.0.0 Darwin Kernel Version 25.0.0
2.  IDE Positron
3.  R version 4.5.2
4.  Yandex Datalens

## Задание

Используя сервис Yandex DataLens настроить доступ к Yandex Query, который Вы использовали в ходе ранее выполненных практических работ, и визуально представить результаты анализа данных.

## Ход работы

1. Настроить подключение к Yandex Query из DataLens
2. Создать из запроса YandexQuery датасет DataLens
3. Делаем нужные графики и диаграммы
4. Составляем дашборд



## Шаги:

### Шаг 1. Настроить интеграцию Yandex Query с DataLens

Открываем сервис Yandex Datalens:

![](./imgs/1.png)


Страница с выбором типов подключения:

![](./imgs/2.png)


Создание нового подключения с нужным сервисным аккаунтом: 

![](./imgs/3.png)


Создание нового датасета из данных YandexQuery

![](./imgs/4.png)

### Шаг 3. Создаем нужные графики и диаграммы

Создание первого чарта

![](./imgs/5.png)

#### Распределение событий по размерам пакетов (круговая диаграмма)

Сделаем несколько нужных показателей и измерений

`events` - показывает общее число событий

![](./imgs/6.png)

`bytes_bucket` показывает в какой бакет по размеру попадает событие

![](./imgs/7.png)

Создадим круговую диаграмму для анализа распределения событий по диапазонам размера

![](./imgs/8.png)



#### Топ источников по объёму трафика (столбчатая диаграмма).

Создадим нужные показатели и измерения.

`total_bytes` - сумма всех байтов.

![](./imgs/9.png)

Создадим столбчатую диаграмму для выявления наиболее “активных” источников по суммарному объёму переданных данных
сп

![](./imgs/10.png)

#### Выявление “сканирующей” активности (точечная диаграмма)

Создадим нужные показатели и измерения

`events` - показывает общее число событий

![](./imgs/11.png)

`uniq_dst` - уникальные dst

![](./imgs/12.png)

`uniq_ports` - уникальные ports

![](./imgs/13.png)

Создадим точечную диаграмму  для анализа поведения источников: сколько уникальных назначений и портов использует каждый src.

![](./imgs/14.png)



### Шаг 4. Составление дашборда

Итоговый дашборд:

![](./imgs/15.png)

[Ссылка на дашборд](https://datalens.ru/h1o37q9gl92y1)



## Вывод

Я познакомился с YandexDatalens, научился делать чарты и строить чарты, дашборд.